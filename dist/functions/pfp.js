// Generated by CoffeeScript 2.3.1
//! ========================================
//! Profile Image
var Discord, handler;

Discord = require('discord.js');

handler = function(msg, match) {
  var embed, i, len, results, user, users;
  users = msg.mentions.users.array();
  if (!users.length) {
    users = [msg.author];
  }
  results = [];
  for (i = 0, len = users.length; i < len; i++) {
    user = users[i];
    embed = new Discord.RichEmbed().setColor('#448aff').setURL(user.displayAvatarURL).setTitle(user.username).setDescription("Profile image").setImage(user.displayAvatarURL);
    results.push(msg.channel.send(embed));
  }
  return results;
};

module.exports = {
  name: "Profile Image",
  regex: /^(img|pfp|avatar)(\s+|$)/i,
  handler: handler,
  help: {
    short: "-h pfp [...]   :: Returns your (or someone else’s) profile image as a URL",
    long: "```asciidoc\n=== Help for Profile Image ===\n*Aliases*: img, pfp, avatar\n-h pfp :: Returns your profile image in a nice box with a URL.\n-h pfp [@user @user ...] :: Returns those users’ profile image.\nNote: You must mention each member directly. @[role], @here,\n      and @everyone will not work.\n```"
  }
};
