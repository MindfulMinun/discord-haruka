// Generated by CoffeeScript 2.5.1
//! ========================================
//! Ping
var handler;

handler = function(msg, match, Haruka) {
  var input;
  input = match[1].toLowerCase();
  return ((function() {
    switch (input) {
      case "ping":
        return msg.reply("Pong!");
      case "beep":
        return msg.reply("Boop!");
      case "ding":
        return msg.reply("Dong!");
      case "awoo":
        return msg.reply("Awoo!");
      case "uwu":
        return msg.reply("OwO");
      case "owo":
        return msg.reply("uwu");
      default:
        return msg.reply("Pong!");
    }
  })()).then(function(reply) {
    var delta, p;
    p = Haruka.client.ping;
    delta = reply.createdTimestamp - msg.createdTimestamp;
    return reply.edit(`${reply.content} (WebSocket: ${p.toFixed(3)}ms, Reaction: ${delta.toFixed(3)}ms, Delivery: ${(delta - p).toFixed(3)}ms)`);
  });
};

module.exports = {
  name: "Ping",
  regex: /^(ping|beep|ding|uwu|owo|awoo)!?(\s+|$)/i,
  handler: handler,
  help: {
    short: "-h ping        :: Replies “Pong!”",
    long: `\`\`\`asciidoc
=== Help for Ping ===
*Aliases*: ping, beep, ding, owo, uwu, awoo
-h ping :: Replies "Pong!" along with the time it took to reply.
-h beep :: Replies "Boop!" along with the time it took to reply.
-h ding :: Replies "Dong!"...
-h uwu  :: Replies "OwO"...
-h owo  :: Replies "uwu"...
-h awoo :: Replies "Awoo!"...
*Note(s):*
    The WebSocket time is the mean of the last 3 heartbeat
        pings of Haruka's WebSocket.
    The Reaction time is raw difference between you sending the
        command and Haruka repling to it.
    The Delivery time is Haruka's Reaction time minus
        internal evaluation time.
\`\`\``
  }
};
